var webStorageModule=angular.module("webStorageModule",[]);webStorageModule.constant("defaultSettings",{prefix:"",order:["local","session","memory"],errorName:"webStorage.notification.error"}),webStorageModule.factory("webStorage",["$rootScope","defaultSettings",function(e,t){"use strict";function r(e,t){if(y){try{localStorage.setItem(I+e,JSON.stringify(t))}catch(r){return h(r)}return!0}return!1}function n(e,t){if(w){try{sessionStorage.setItem(I+e,JSON.stringify(t))}catch(r){return h(r)}return!0}return!1}function o(e,t){return k[e]=t,!0}function a(e){if(y)try{var t=localStorage.getItem(I+e);return t&&JSON.parse(t)}catch(r){return h(r),null}return null}function u(e){if(w)try{var t=sessionStorage.getItem(I+e);return t&&JSON.parse(t)}catch(r){return h(r),null}return null}function c(e){return e in k?k[e]:null}function i(e){if(y){try{localStorage.removeItem(I+e)}catch(t){return h(t)}return!0}return!1}function s(e){if(w){try{sessionStorage.removeItem(I+e)}catch(t){return h(t)}return!0}return!1}function l(e){return delete k[e],!0}function g(){if(!y)return!1;if(I){var e=I.length;try{for(var t in localStorage)t.substr(0,e)===I&&localStorage.removeItem(t)}catch(r){return h(r)}return!0}try{localStorage.clear()}catch(r){return h(r)}return!0}function f(){if(!w)return!1;if(I){var e=I.length;try{for(var t in sessionStorage)t.substr(0,e)===I&&sessionStorage.removeItem(t)}catch(r){return h(r)}return!0}try{sessionStorage.clear()}catch(r){return h(r)}return!0}function p(){return k={},!0}function d(){try{return localStorage.setItem(I+"angular.webStorage.test",!0),localStorage.removeItem(I+"angular.webStorage.test"),!0}catch(e){return!1}}function m(){try{return sessionStorage.setItem(I+"angular.webStorage.test",!0),sessionStorage.removeItem(I+"angular.webStorage.test"),!0}catch(e){return!1}}function h(t){return e.$broadcast(S,t.title+": "+t.message),!1}var S=t.errorName,y=d(),w=m(),v=t.order,I=t.prefix,k={},b={isSupported:y||w,local:{isSupported:y,add:r,get:a,remove:i,clear:g},session:{isSupported:w,add:n,get:u,remove:s,clear:f},memory:{isSupported:!0,add:o,get:c,remove:l,clear:p}};return b.add=function(e,t,r){r="undefined"!=typeof r?!!r:!1;for(var n=!1,o=v.length,a=0;o>a;++a){var u=b[v[a]];if(u.isSupported&&(n=u.add(e,t)||n,!r))return n}return n},b.get=function(e,t){t="undefined"!=typeof t?!!t:!0;for(var r=v.length,n=0;r>n;++n){var o=b[v[n]];if(o.isSupported){var a=o.get(e);if(!t||null!==a)return a}}return null},b.remove=function(e,t){t="undefined"!=typeof t?!!t:!0;for(var r=!1,n=v.length,o=0;n>o;++o){var a=b[v[o]];if(a.isSupported&&(r=a.remove(e)||r,!t))return r}return r},b.clear=function(e){e="undefined"!=typeof e?!!e:!0;for(var t=!1,r=v.length,n=0;r>n;++n){var o=b[v[n]];if(o.isSupported&&(t=o.clear()||t,!e))return t}return t},b.errorName=function(e){var t=S;if("undefined"!=typeof e){if("string"!=typeof e)return!1;S=e}return t},b.order=function(e){var t=angular.copy(v);if("undefined"!=typeof e){v=[];for(var r in e)/^(local|session|memory)$/.test(e[r])&&v.push(e[r])}return t},b.prefix=function(e){var t=I;if("undefined"!=typeof e){if("string"!=typeof e)return!1;I=e}return t},b}]);try{window.localStorage||(window.localStorage={getItem:function(e){return e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},window.localStorage.length=(document.cookie.match(/\=/g)||window.localStorage).length),window.sessionStorage||(window.sessionStorage={getItem:function(e){return e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},window.sessionStorage.length=(document.cookie.match(/\=/g)||window.sessionStorage).length)}catch(e){}